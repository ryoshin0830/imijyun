# 意味順（Imijun）英語学習アプリケーション 最終デザインドキュメント

**バージョン**: v1.0（完成版）  
**作成日**: 2025-09-08  
**対象読者**: 田地野彰先生、プロダクト/デザイン/開発チーム、営業/カスタマーサクセスチーム

---

## 1. エグゼクティブサマリー

### 1.1 プロジェクト概要

**目的**  
田地野彰先生の「意味順（だれが／する／なに／どこ／いつ）」メソッドを、現代のWeb/モバイル体験として実装・拡張し、日本人学習者が**文法用語に依存せず**英語の語順と意味の流れを直感的に体得できるプロダクトを構築する。

**プロダクトの核**
- 5色の意味順ボックスに単語/チャンクを**ドラッグ&ドロップ**して英語文を構築
- 即時フィードバック（正解：コンフェティ／誤答：振動＋ヒント）
- **SRS（間隔反復）×適応型難易度**で継続学習を最適化
- **ストーリーモード**と**キャラクター成長**でエンゲージメントを強化
- **B2B向け教師ダッシュボード**でクラス運営・評価・課題配信を支援

**現在の実装状況**
- ✅ Next.js 14 (App Router) + TypeScript + Tailwind CSS + Zustand + Framer Motion + @dnd-kit + Turborepo
- ✅ ドラッグ&ドロップシステム、5色の意味順ボックス、チュートリアル（7ステップ）
- ✅ 6レッスン（初級〜上級）、フィードバックシステム、スコア・進捗トラッキング
- ✅ レスポンシブデザイン、モノレポ構成

**未実装**: 認証・永続化、SRS、音声（TTS/STT）、B2B機能、レッスン拡充

### 1.2 3つの差別化ポイント

1. **意味順特化**：英作文の思考順を視覚化し、語順の感覚を**手で組む**操作で身体化
2. **文法用語を使わない説明**：年齢層横断で理解可能なUIマイクロコピーとヒント設計
3. **教師の介入を前提**：B2Bで授業設計・宿題・到達度評価まで一気通貫

### 1.3 KPI目標（初年度→3年目）

- D1/D7/D30 リテンション：35% / 20% / 12% → 45% / 28% / 18%
- 学習継続日数中央値：9日 → 18日
- 1日あたり完成文数中央値：18文 → 25文
- B2B継続率：80% → 90%
- ARPPU（B2C）：¥900 → ¥1,200

---

## 2. プロダクトビジョン

### 2.1 意味順メソッドの教育的価値

**田地野彰先生について**
- 京都大学名誉教授
- 英語教育における「意味順」枠組みの提唱者
- EGAP（全学共通英語カリキュラム）開発者
- 研究分野：教育文法、授業研究、EAP
- 主要出版物：NHK出版『音声DL BOOK 中学英語でパッと話せる！「意味順」式 おとなの英会話トレーニング』

**意味順メソッドの特徴**
- 5つのボックス：だれが（主語）・する（動詞）・だれ/なに（目的語）・どこ（場所）・いつ（時間）
- 視覚的な色分けによる理解促進：青(だれが) #2563EB、緑(する) #16A34A、黄(なに) #F59E0B、紫(どこ) #8B5CF6、赤(いつ) #EF4444
- 段階的な学習プロセス
- 文法用語を使わない直感的理解

### 2.2 体験設計原則

- **意味の流れを可視化**：5色ボックスの意味役割は常に固定、UI要素・サウンド・アニメーションはこの色体系に一貫
- **「正解」より「再構築」**：誤答時は×ではなく入替候補や「先に"する（動き）"を置こう」等の意味順ヒント
- **短い成功体験×反復**：1セッション3–5分／7–10問で頻繁に達成感
- **用語回避**：ユーザー向け文言は文法用語不使用（内部ラベルはOK）

### 2.3 ターゲットユーザー

- **小学生（8–12歳）**：ビジュアルと音声中心、短いセッション、保護者管理
- **中高生（13–18歳）**：学校学習の補助、小テスト・宿題連携
- **大学生・成人**：スピーキング起点の語順感覚獲得、出張/留学/資格補助
- **教育機関**：公立/私立校、塾、語学学校（クラス管理・評価が主関心）

### 2.4 競合分析と差別化

**一般的英語アプリ（単語カード型）との差別化**
- **差別化**：文構築の身体化（ドラッグ&ドロップ）+ 意味順ヒント

**文法ドリル型との差別化**
- **差別化**：用語非依存の意味順導線＋視覚×触覚の統合

**学校向けLMSとの差別化**
- **差別化**：教師オーサリング×意味順アセスメント×実時間授業支援

### 2.5 3年後のビジョン（North Star）

- **国内No.1の語順トレーニング基盤**：学校/塾の標準副教材
- **AI個別指導**で各学習者の弱点パターンを特定し、1日5分の最短ルート復習を自動生成
- **国際展開**：意味順の普遍性を活かし、他言語（ES→EN、ZH→EN等）にも応用
- **研究連携**：学習データを匿名化し、語順習得のエビデンスを蓄積

---

## 3. 現在の実装状況（詳細分析）

### 3.1 完成済み機能

**技術スタック**
- **Framework**: Next.js 14 (App Router)
- **Language**: TypeScript
- **Styling**: Tailwind CSS with custom Imijun color palette
- **State Management**: Zustand
- **Animation**: Framer Motion
- **Drag & Drop**: @dnd-kit
- **Monorepo**: Turborepo with pnpm workspaces
- **Package Manager**: pnpm 8.15.1

**コア機能**
1. **ドラッグ&ドロップシステム**（@dnd-kit）：滑らかな単語配置
2. **5色の意味順ボックス**：ImijunBoxEnhanced コンポーネント
3. **インタラクティブチュートリアル**：7ステップのオンボーディング
4. **6段階レッスン**：初級〜上級の学習コンテンツ
5. **リアルタイムフィードバック**：コンフェティアニメーション
6. **進捗トラッキング**：スコアとストリーク機能
7. **レスポンシブデザイン**：モバイルファースト設計

### 3.2 アーキテクチャ詳細

**モノレポ構成**
```
apps/web/ - メインNext.jsアプリケーション
├── app/ - App Routerページとレイアウト
├── app/components/ - React components (ImijunBox, WordBank等)
├── app/data/ - レッスンデータとタイプ定義
packages/ui/ - 共有UIコンポーネントライブラリ
packages/lib/ - 共有ユーティリティ
packages/config/ - 共有設定（TypeScript configs）
```

**キーコンポーネント**
- **ImijunBoxEnhanced**: ドロップ可能な意味順ボックス
- **WordBankEnhanced**: ドラッグ可能な単語バンク
- **Feedback**: 視覚フィードバックとコンフェティ
- **Tutorial**: インタラクティブオンボーディング
- **LessonSelector**: 進捗付きレッスンナビゲーション

### 3.3 現在の技術的実装詳細

**状態管理（Zustand）**
- コンポーネントレベル状態：useState
- グローバル状態：Zustand store

**スタイリング**
- Tailwind utility classes
- カスタムImijunカラーパレット
- インラインスタイル回避

**アニメーション**
- Framer Motion による滑らかな遷移
- ドラッグ&ドロップの視覚的フィードバック

---

## 4. ユーザーエクスペリエンス設計

### 4.1 コア学習フロー

1. **デイリーゴール提示**（例：完成文15個／5分間）
2. **ドリル**：意味順ボックスにチャンクを配置 → 即時フィードバック → 軽量ヒント
3. **発話**（任意）：完成後に読み上げ→ユーザーリピート録音→音素レベルで簡易スコア
4. **リフレクション**：今日の弱点（例：「どこ」位置の誤り×3）、次回のオススメ復習
5. **報酬**：XP、連続日数、バッジ、ストーリー進行

### 4.2 ゲーミフィケーション戦略：「英語の島」ストーリーモード

**世界観設定**
- 各エリア＝意味役割テーマ（港=だれが、森=する、マーケット=なに、山=どこ、遺跡=いつ）
- クエストは文の発注（NPCが意図を提示→ユーザーが文構築）
- プレイヤーは「言葉の冒険者」として島を探索

**キャラクター成長システム**
- **アバター**: 衣装/エモートをXPで解放
- **スキルツリー**:
  - *Flow*（語順スピードUP：制限時間延長）
  - *Clarity*（語彙ヒントを1回/セッション付与）
  - *Recall*（SRSの次回間隔を短縮）

**バッジ/実績システム**
- 「する先行マスター」（動きボックスを連続10問先に正置）
- 「場所完璧週間」（紫ボックス誤り0で7日）
- 「島の探索者」（全エリア制覇）

**デイリーチャレンジ/イベント**
- 平日：3分チャレンジ
- 週末：テーマ別イベント（旅行・学校・ビジネス）
- 季節イベント：文化的コンテンツとの連動

**ソーシャル機能**
- **ランキング**：友達/クラス/全体
- **協力プレイ**：協同クエスト（3人で各自1役割を担当し文を完成）
- **ギルド**：クラスやグループでの共同目標

### 4.3 SRS（間隔反復学習）の具体的実装

**学習アイテム定義**
- 「意味順パターン×語彙チャンク」の組み合わせ
- 各アイテムに難易度（beta値）と個人習熟度（theta値）を管理

**間隔計算アルゴリズム（SM-2ベース最適化）**
- 品質評価Q（0–5）：
  - 完全正解=5 / 位置ずれ1箇所=4 / 2箇所=3 / ヒント使用=2 / 不正解=1 / スキップ=0
- 次回間隔 `I(n) = I(n-1) * EF`（初期 `I1=1日, I2=3日`）
- EF（Ease Factor）は `EF' = EF + (0.1 - (5-Q)*(0.08 + (5-Q)*0.02))`、下限1.3

**復習UX設計**
- 当日カードは最大10分で打ち切り
- 誤りパターンに応じた局所練習（例：「どこ」を先に固定した状態で他を再配置）
- 復習予告システム（明日復習する内容の予習）

### 4.4 適応型難易度調整

**目標正答率**: 80–85%
**個人能力推定**: Eloレーティングシステム
- 予測正答確率 `P = 1 / (1 + e^{-(θ-β)})`
- セッション内でPが連続して高/低すぎる場合にβを±0.2調整

**個人化要素**
- **役割別θ**（だれが/する/なに/どこ/いつ）を別管理
- **ミスの型**（入れ替え・欠落・過剰）をログ → 次回ヒントに反映
- **学習スタイル**：視覚重視/音声重視/触覚重視の適応

### 4.5 個人化学習パス

**初期診断**（5分）
- 各役割のθ値初期化
- 学習目標設定（試験対策、日常会話、ビジネス等）

**学習計画自動生成**
- 平日：弱点2領域×各5問 + 維持5問
- 週末：ストーリー進行＋復習一掃
- **コーチカード**：毎日1枚、「今日は"どこ"を先に置く練習を3回」

**弱点分析と補強**
- **メトリクス**：役割別正答率、初手誤り、再配置回数、ヒント依存率、発話可読率
- **補強手段**：
  - **固定型ドリル**（問題の一部を固定して他のみ可動）
  - **最小ペア**（"in/at/on"などの微差を、場所ボックス内の選択で比較）
  - **スピードモード**（時間プレッシャーで語順を自動化）

### 4.6 マルチモーダル学習

**視覚**: 色・アイコン・動きで役割を示す
**聴覚**: TTSでモデル音声→ユーザーSTTで復唱→タイミング×韻律×語順を軽量評価
**触覚**: モバイルの軽振動／正解時の軽い弾けアニメーション

### 4.7 UI/UXデザインガイドライン

**ビジュアルアイデンティティ**
- **カラーシステム**: 
  - 青(だれが) #2563EB, 緑(する) #16A34A, 黄(なに) #F59E0B
  - 紫(どこ) #8B5CF6, 赤(いつ) #EF4444
- **タイポグラフィ**: 
  - 本文: Noto Sans JP
  - 英字: Inter
  - タイトル: Noto Sans JP Bold
- **アイコンシステム**: 意味役割のピクトグラム（人・動き・対象・地図ピン・時計）

**マイクロインタラクション**
- ドロップ成功：弾性スナップ＋微細発光
- 誤配置：赤枠バイブ＋「ここは"動き"の場所」ツールチップ
- フィードバック遅延最小化（<100ms）

**情報アーキテクチャ**
- `/` ホーム → `/learn` 学習 → `/review` 復習 → `/story` 物語 → `/profile` → `/classroom`（教師）

**アクセシビリティ（WCAG 2.2 AA準拠）**
- コントラスト比≧4.5:1
- 色依存回避（形状/ラベル併用）
- キーボード操作対応
- スクリーンリーダー対応
- 字幕・代替テキスト

**デバイス最適化**
- **モバイル**: 親指到達圏に主要操作、片手操作最適化
- **デスクトップ**: ドラッグ範囲拡大、ショートカット（1–5で役割ジャンプ）
- **タブレット**: 両手操作とペン入力対応

---

## 5. 技術仕様

### 5.1 システムアーキテクチャ

**フロントエンド**
- Next.js 14 App Router（Server Components＋Client Components併用）
- TypeScript, Tailwind CSS, Zustand, Framer Motion, @dnd-kit
- PWA対応（オフライン学習）

**バックエンド**
- Next.js Route Handlers（初期）
- 将来的にEdge Functions（Supabase/Cloudflare）へ一部移管
- PostgreSQL（Supabase想定）

**認証・リアルタイム**
- NextAuth（Email Magic Link + OAuth：Google/Apple/学校SSO/SAML）
- Supabase Realtime or Pusher（クラスライブ、対戦、教師モニタリング）

**CDN・音声**
- Vercel Edge＋Asset（音声/画像）をCloudflare R2 + CDN
- **TTS**: Web Speech API（初期）→ 将来はクラウドTTS（日英高品質）
- **STT**: Web Speech API（Chrome/Safari対応）→ 将来はクラウドSTT（ノイズ耐性・採点用）

### 5.2 データベース設計

```mermaid
erDiagram
  User ||--o{ Enrollment : has
  User ||--o{ Session : has
  User ||--o{ ReviewLog : has
  Class ||--o{ Enrollment : has
  Lesson ||--o{ Item : contains
  Item ||--o{ Attempt : logged
  Item ||--o{ ReviewLog : scheduled
  RoleMaster ||--o{ ItemRole : defines

  User {
    uuid id PK
    text email
    text display_name
    jsonb prefs
    timestamptz created_at
  }
  Lesson {
    uuid id PK
    text title
    jsonb syllabus
    int level
  }
  Item {
    uuid id PK
    uuid lesson_id FK
    jsonb chunks
    float beta
  }
  Attempt {
    uuid id PK
    uuid user_id FK
    uuid item_id FK
    int quality
    jsonb telemetry
    timestamptz at
  }
  ReviewLog {
    uuid id PK
    uuid user_id FK
    uuid item_id FK
    int repetition
    float ef
    date due_on
    bool lapsed
  }
  Class {
    uuid id PK
    text name
    uuid teacher_id
  }
  Enrollment {
    uuid id PK
    uuid class_id
    uuid user_id
    jsonb permissions
  }
```

**インデックス設計**
- `Attempt(user_id, item_id, at)`
- `ReviewLog(user_id, due_on)`
- `Item(lesson_id, beta)`

**RLS（Row Level Security）**
- `User`: 自分のみ
- `Attempt/ReviewLog`: `user_id = auth.uid()`
- `Class/Enrollment`: 教師は自身のクラスのみ参照/更新

### 5.3 API設計

**学習関連API**
- `POST /api/session/start`（学習セッション開始、出題キュー返却）
- `POST /api/attempt`（結果送信：quality/telemetry）→ SRS更新・Elo更新
- `GET /api/review/due`（当日復習の取得）

**教師用API**
- `GET /api/class/:id/progress`（クラス進捗・弱点ヒートマップ）
- `POST /api/class/:id/assign`（課題配信：期限・対象レッスン）

### 5.4 SRS・適応型アルゴリズム（擬似コード）

```pseudo
onAttempt(item_id, user_id, quality, role_error_map):
  # SRS更新
  RL = getReviewLog(user_id, item_id)
  if not RL: 
    init with repetition=1, ef=2.5, due_on=tomorrow
  else:
    EF' = EF + (0.1 - (5-quality)*(0.08+(5-quality)*0.02))
    EF = max(1.3, EF')
    if quality < 3: 
      repetition = 1; interval = 1
    else:
      repetition += 1
      interval = computeInterval(repetition, EF)
    due_on = today + interval

  # Elo更新（役割別）
  for role in role_error_map:
    theta_u = getTheta(user_id, role)
    beta_i = getBeta(item_id, role)
    p = 1/(1+exp(-(theta_u - beta_i)))
    k = 0.3
    score = (quality>=4 ? 1 : 0)
    theta_u += k*(score - p)
    beta_i -= k*(score - p)
    save(theta_u, beta_i)
```

### 5.5 パフォーマンス・CDN

**目標**
- LCP < 2.5s（3G回線想定）
- 交互作用<100ms

**最適化戦略**
- RSCでデータ取得
- 画像/音声は`next/image`とストリーミング
- Preload/Prefetch
- ISR（Incremental Static Regeneration）
- 短尺音声（<5s）をOpusへ変換しCDNキャッシュ

### 5.6 セキュリティ

**認証・認可**
- OAuth + Magic Link（二段階認証オプション）
- Supabase RLS必須
- 監査ログ
- レート制限（IP/ユーザー/クラス）

**データ保護**
- PII最小化
- 未成年の保護（保護者同意、学籍連携）
- APPI/GDPR準拠
- 依存パッケージ監査（Dependabot）

### 5.7 運用・品質保証

**テレメトリ**
- イベント（Attempt/Hint/DropOrder/VoiceScore/TimeOnTask）
- A/Bテスト（ヒント文言、タイムリミット、報酬設計）

**テスト戦略**
- ユニット（ロジック/SRS/適応）
- E2E（Playwright）
- パフォーマンス（Lighthouse CI）

**デプロイメント**
- Turborepoで分割
- Vercel Preview→Main→Prod
- DBマイグレーション（Prisma）

---

## 6. 実装ロードマップ

### Phase 2（1–2ヶ月）：コア強化

**目標**: 日次継続率の向上と学習の循環を完成させる

**主要実装項目**
1. **認証・永続化システム**
   - NextAuth + Supabase統合
   - Row Level Security実装
   - ユーザープロファイル管理

2. **SRS（間隔反復）システム**
   - SM-2変法アルゴリズム実装
   - `/review`フロー構築
   - 復習スケジューリング

3. **ゲーミフィケーション基盤**
   - XP/レベル/連続日数システム
   - 改良フィードバック（局所ヒント/固定型再挑戦）
   - バッジ・実績システム

4. **新学習モード**
   - スピードモード
   - 復習モード
   - 学習履歴・弱点カード

5. **コンテンツ拡充**
   - 各レベル6→30レッスン（最低ライン）
   - 多様なシチュエーション対応

**受け入れ基準**
- 当日復習が5分以内に消化可能
- D1リテンション>35%
- 1セッション平均完成文>15

### Phase 3（3–6ヶ月）：エンゲージメント強化

**目標**: 長期継続とB2B価値提供

**主要実装項目**
1. **ストーリーモード「英語の島」**
   - 1章=5エリア×各クエスト10
   - NPCとの対話システム
   - 探索要素とアンロック機能

2. **音声機能統合**
   - 高品質クラウドTTS/STT
   - 簡易発話スコアリング
   - 韻律・タイミング評価

3. **ソーシャル機能**
   - フレンドシステム
   - ランキング・リーダーボード
   - 協同クエスト

4. **B2B教師ダッシュボード**
   - クラス作成・管理
   - 進捗・弱点ヒートマップ
   - 課題配信システム
   - CSV書き出し・レポート機能

5. **学校システム連携**
   - SSO/SIS連携
   - 成績管理システム統合

**受け入れ基準**
- D7リテンション>20%
- クラスの課題提出率>80%
- 教師満足度>4.0/5.0

### Phase 4（6–12ヶ月）：スケール・AI

**目標**: 大規模展開とAI個別指導

**主要実装項目**
1. **モバイルアプリ**
   - PWA→Capacitor/React Native
   - ネイティブ機能活用
   - オフライン完全対応

2. **AI個別指導システム**
   - 弱点から1日5分プラン自動生成
   - 説明は用語非依存
   - 個人最適化学習パス

3. **多言語対応**
   - UI多言語化
   - 音声多言語対応
   - 他言語→英語の意味順学習

4. **スケーリング対応**
   - Edge化
   - 水平分割
   - コスト最適化

**受け入れ基準**
- 月間同時接続1万以上で安定
- p95応答<300ms
- 運用コスト最適化達成

---

## 7. B2B向け教師ダッシュボード機能

### 7.1 クラス管理機能

**クラス作成・設定**
- 学年・科目・期間設定
- 学習者招待（招待コード/CSV一括）
- 権限管理（閲覧/編集/管理）

**学習者管理**
- 出席状況確認
- 個別進捗モニタリング
- 個別メッセージ・フィードバック

### 7.2 学習分析・評価機能

**進捗ダッシュボード**
- クラス全体の学習状況
- 個人別詳細レポート
- 役割別習熟度ヒートマップ

**弱点分析**
- よくある間違いパターン
- 個人別推奨学習内容
- 介入が必要な学習者の特定

**評価・採点支援**
- 自動採点システム
- 詳細なルーブリック
- 学習ポートフォリオ作成

### 7.3 授業支援機能

**課題配信システム**
- 期限付き課題の作成・配布
- 進捗リアルタイムモニタリング
- 自動リマインダー

**ライブ授業連携**
- プロジェクター対応画面
- 一斉操作機能
- リアルタイム参加状況確認

**教材カスタマイズ**
- オリジナル問題作成
- 既存レッスンの改変
- 学校カリキュラムとの連携

### 7.4 レポート・データ出力

**標準レポート**
- 週次/月次進捗レポート
- 個人成長曲線
- クラス比較分析

**カスタムレポート**
- 保護者向けレポート
- 学校管理者向けサマリー
- 研究用データ（匿名化）

**データエクスポート**
- CSV/Excel形式
- 学習管理システム連携
- 成績処理システム連携

---

## 8. ビジネスプラン

### 8.1 収益モデル

**B2C フリーミアム**
- **無料プラン**: 
  - 日次学習（上限あり）
  - 基本復習機能
  - ストーリーモード序盤
- **プレミアムプラン**（月¥980/年¥7,800）: 
  - 無制限復習
  - 発話フィードバック詳細
  - スキルツリー拡張
  - 特別イベント参加
  - オフライン学習

**B2B ライセンス**
- **学校/塾**: 1席/月¥400–¥700（規模割引あり）
- **含まれる機能**: 管理者機能、SSO、詳細レポート、優先サポート
- **導入支援**: 研修・教材テンプレート・運用ハンドブック

### 8.2 価格戦略

**割引体系**
- 学期単位割引（3ヶ月：5%、6ヶ月：10%、12ヶ月：15%）
- 教育委員会/チェーン塾ボリュームディスカウント
- 保護者向け年払い優遇（2ヶ月分割安）

**段階的価格設定**
- 導入期：特別価格での試験導入
- 成熟期：価値に基づく適正価格
- 拡張期：機能追加に伴う価格調整

### 8.3 成功指標（KPI）

**獲得指標**
- CAC（顧客獲得コスト）
- 自然流入比率
- 教育機関獲得数

**継続指標**
- D1/D7/D30リテンション
- 連続日数中央値
- コホート残存率

**学習効果指標**
- 役割別正答率の上昇
- 誤りパターンの減少
- 音声スコア改善

**収益指標**
- ARPU/ARPPU
- B2B継続率
- LTV/CAC比率

### 8.4 Go-To-Market戦略

**Phase 1: 先行導入**
- 3校での試験導入
- 授業内活用実証
- ケーススタディ作成

**Phase 2: コミュニティ構築**
- 先生向けウェビナー
- 教材コンテスト開催
- 意味順教育研究会との連携

**Phase 3: メディア展開**
- 教育効果の事例記事
- 学会発表・論文発表
- インフルエンサーマーケティング

**Phase 4: スケール展開**
- 代理店チャネル構築
- 海外展開準備
- 企業研修市場参入

---

## 9. リスク管理

### 9.1 技術リスク

| リスク | 影響度 | 対策 |
|--------|--------|------|
| 同時接続増でDB/Realtime輻輳 | 高 | 読取系をEdge Cache、書込をキュー化、パーティショニング |
| ブラウザSTT/TTSの品質差 | 中 | クラウド音声にフォールバック、ネットワーク/端末診断 |
| セキュリティ脆弱性 | 高 | 定期監査、依存関係更新、ペネトレーションテスト |

### 9.2 ビジネスリスク

| リスク | 影響度 | 対策 |
|--------|--------|------|
| 競合の価格攻勢 | 中 | B2Bの授業価値（教師/評価）で差別化、長期契約割引 |
| 市場受容の遅れ | 中 | 段階的展開、ユーザーフィードバック重視 |
| 資金調達の困難 | 高 | 複数投資家との関係構築、収益性早期達成 |

### 9.3 教育・規制リスク

| リスク | 影響度 | 対策 |
|--------|--------|------|
| 教育効果の不確実性 | 高 | 事前/事後テスト、A/Bテスト、大学/学校との共同研究 |
| 未成年データ保護 | 高 | 保護者同意、匿名化、APPI/GDPR準拠、データ保持最小化 |
| 学習指導要領変更 | 中 | 教育政策動向モニタリング、柔軟な教材設計 |

### 9.4 運用リスク

| リスク | 影響度 | 対策 |
|--------|--------|------|
| コンテンツ拡充の遅延 | 中 | オーサリングツール整備、外部ライターガイドライン |
| 人材確保困難 | 中 | 早期採用、リモート対応、インターン制度 |
| サーバー障害 | 高 | 冗長化、監視体制、災害復旧計画 |

---

## 10. 田地野先生とのミーティング確認事項

### 10.1 教育メソッド確認項目

1. **意味順の優先度**
   - 初学段階で推奨する提示順（だれが→する→なに→どこ→いつ）は固定で良いか
   - 学習者のレベルに応じた提示順の調整は必要か

2. **誤りの扱い方針**
   - どの程度まで**ヒントで自動導出**させるか（完全誘導 vs 自己発見）
   - 間違いを学習機会として活用する具体的方法

3. **音声学習の統合**
   - 発話評価の粒度（語順と韻律中心でOKか）
   - 音声学習と意味順学習の効果的な組み合わせ方

### 10.2 システム設計確認項目

4. **ストーリーモードの妥当性**
   - 意味役割と舞台（エリア）の対応づけは適切か
   - ゲーミフィケーションが学習効果に与える影響

5. **教師による活用方法**
   - 授業内5–10分の導入としての最適設計
   - 投影/一斉操作/ライブ監視の優先順位

### 10.3 研究・評価確認項目

6. **学習効果の測定**
   - 研究連携に向けた評価設計（データ項目と倫理配慮）
   - 意味順習得度を測る具体的指標
   - 従来教育法との比較方法

### 10.4 コンテンツ開発確認項目

7. **レッスン設計指針**
   - 文化的多様性の考慮事項
   - 年齢層別のコンテンツ調整方針
   - 習熟度別の段階的学習設計

8. **将来展開の方向性**
   - 他言語への応用可能性
   - 国際展開時の考慮事項

---

## 11. 付録

### 11.1 画面設計ワイヤーフレーム

```
[学習画面レイアウト]
┌─────────────────────────────────────┐
│ [ヘッダー] 目標: 15文 / 連続: 3日目    │
├─────────────────────────────────────┤
│ [学習キャンバス]                     │
│ ┌青:だれが──────────────┐           │
│ ├緑:する───────────────────┤           │
│ ├黄:なに───────────────────┤           │
│ ├紫:どこ───────────────────┤           │
│ └赤:いつ───────────────────┘           │
│                                     │
│ [候補単語バンク]                     │
│ [She] [buys] [a book] [at store]     │
│                                     │
│ [ヒント] [スキップ] [音声] [確認]    │
└─────────────────────────────────────┘
```

### 11.2 レッスン作成ガイドライン

**基本原則**
- 意味役割の**最小衝突**から導入、次に**微差対比**（in/at/on）
- 単語ベースではなく**チャンク**（"a cup of coffee", "at the station"）
- 語彙範囲：CEFR A1→A2→B1に相当
- 文例領域：日常/学校/旅行/ビジネス/学術の5カテゴリを均等
- 文化配慮：固有名詞・状況設定は多様性を尊重、固定観念を避ける

### 11.3 ヒントの言い換えテンプレート（文法用語回避）

- ❌「目的語が不足」→ ⭕「"なに"の場所が空いているよ」
- ❌「前置詞が誤り」→ ⭕「"どこ"を表す言葉を選び直そう」  
- ❌「時制ミス」→ ⭕「"いつ"に合わせて"する"の形も揃えよう」

### 11.4 イベント・アナリティクス設計

**トラッキングイベント**
- `session_start`, `item_presented`, `drop_action`
- `hint_shown(type)`, `attempt_submitted(quality)`
- `voice_recorded(score)`, `review_scheduled(interval)`
- `streak_updated`, `badge_unlocked(id)`

### 11.5 データ型定義（TypeScript）

```typescript
type Role = 'who'|'do'|'what'|'where'|'when';

type ItemChunk = { 
  text: string; 
  audioUrl?: string; 
  hints?: string[]; 
};

type Item = {
  id: string;
  lessonId: string;
  chunks: Record<Role, ItemChunk[]>;
  beta: number; // 難易度
};

type Attempt = {
  id: string;
  itemId: string;
  userId: string;
  quality: 0|1|2|3|4|5;
  telemetry: {
    dropOrder: Role[];
    reorders: number;
    timeMs: number;
    hintUsed: boolean;
    roleErrors: Partial<Record<Role, number>>;
  };
  at: string;
};
```

### 11.6 問題データサンプル

```json
{
  "lessonId": "L1-basic-where",
  "chunks": {
    "who": [{"text":"She"}],
    "do": [{"text":"buys"}],
    "what":[{"text":"a book"}],
    "where":[{"text":"at the store"},{"text":"online"}],
    "when":[{"text":"after school"}]
  },
  "beta": -0.2
}
```

---

## まとめ

本デザインドキュメントは、田地野彰先生の**意味順メソッドの本質（意味の流れ→語順）をUIで体感**させ、**反復×個人化**で定着、**物語と成長**で継続を促すことを中核としています。

現在の実装基盤（Next.js 14 + TypeScript + @dnd-kit等）を活用し、段階的にSRS/音声/教師機能/AIを統合することで、**実装可能性とスケール**を両立させる設計となっています。

**次のステップ**として、田地野先生との詳細ディスカッションにより**教育的整合性**（ヒント表現・提示順・誤りの扱い）を最優先に確認し、B2Bの授業運用像と評価方法を明確化することが重要です。

---

*作成日: 2025-09-08*  
*バージョン: v1.0（完成版）*  
*次回更新: 田地野先生ミーティング後*